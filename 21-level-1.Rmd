# Level 1

```{r, echo=FALSE, warning=FALSE, message=FALSE}
# Filter for the engineered channel component
L1_risk <- filter(risk, eng_level == 1)
```

## Risks
```{r, echo=FALSE, warning=FALSE, message=FALSE}
risk_register_table(L1_risk)
```

## Summary
```{r, echo=FALSE, warning=FALSE, message=FALSE, fig.width=7, fig.height=9, out.width='100%', fig.cap = paste0("Risk Characteristics (n = ", length(unique(L1_risk$RISK_NO)), ")")}
p1 <- percent_treemap(L1_risk, RISKCATEGORY, "Risk Categories")
p2 <- percent_treemap(L1_risk, COMPONENT, "Project Components")
p3 <- percent_treemap(L1_risk, RISK_STRATEGY, "Risk Strategy")
p4 <- percent_treemap(L1_risk, TIMING_OF_DELAY, "Timing of Delay")
p5 <- percent_treemap(L1_risk, DISCIPLINE, "Discpline")
grid.arrange(p1, p2, p3, p4, p5, nrow = 3, ncol = 2)
```

## `timevis` Timelines

```{r test-data, echo=FALSE, warning=FALSE, message=FALSE}
timevisData <- data.frame(
  id = 1:11,
  content = c("Open", "Open",
              "Open", "Open", "Half price entry",
              "Staff meeting", "Open", "Adults only", "Open", "Hot tub closes",
              "Siesta"),
  title = c(""),
  start = c("2016-05-01 07:30:00", "2016-05-01 14:00:00",
            "2016-05-01 06:00:00", "2016-05-01 14:00:00", "2016-05-01 08:00:00",
            "2016-05-01 08:00:00", "2016-05-01 08:30:00", "2016-05-01 14:00:00",
            "2016-05-01 16:00:00", "2016-05-01 19:30:00",
            "2016-05-01 12:00:00"),
  end   = c("2016-05-01 12:00:00", "2016-05-01 20:00:00",
            "2016-05-01 12:00:00", "2016-05-01 22:00:00", "2016-05-01 10:00:00",
            "2016-05-01 08:30:00", "2016-05-01 12:00:00", "2016-05-01 16:00:00",
            "2016-05-01 20:00:00", NA,
            "2016-05-01 14:00:00"),
  group = c(rep("lib", 2), rep("gym", 3), rep("pool", 5), NA),
  type = c(rep("range", 9), "point", "background")
)
timevisDataGroups <- data.frame(
  id = c("lib", "gym", "pool"),
  content = c("Library", "Gym", "Pool")
)
```


```{r test-data-2, echo=FALSE, warning=FALSE, message=FALSE}
timevis::timevis(data = timevisData,
                 groups = timevisDataGroups) %>%
  timevis::centerItem(itemId = 8) %>%
  timevis::setWindow(start = "2016-05-01 01:00:00", 
                      end = "2016-05-01 23:00:00
")
```
